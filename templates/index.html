<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Restaurant Pythonissimo</title>
    <style>
        /* Reset et style de base */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: #f9f4ef; color: #333; padding: 40px; }

        h1 { color: #d35400; text-align: center; font-size: 3em; margin-bottom: 20px; text-shadow: 2px 2px #f1c40f; }
        h2 { color: #e67e22; text-align: center; margin-bottom: 30px; }

        ul { list-style-type: none; display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }
        li { background: #fff3e0; padding: 20px 30px; border-radius: 12px; box-shadow: 0 8px 15px rgba(0,0,0,0.1); 
             transition: transform 0.2s, box-shadow 0.2s; width: 200px; text-align: center; }
        li:hover { transform: translateY(-5px); box-shadow: 0 12px 20px rgba(0,0,0,0.2); }

        button { margin-top: 10px; padding: 10px 20px; border: none; border-radius: 8px; background: #e67e22; color: #fff;
                 font-weight: bold; cursor: pointer; transition: background 0.3s, transform 0.2s; }
        button:hover { background: #d35400; transform: scale(1.05); }

        #order-summary { background: #fff3e0; padding: 20px; margin-top: 30px; border-radius: 12px; 
                         box-shadow: 0 8px 15px rgba(0,0,0,0.1); max-width: 600px; margin-left: auto; margin-right: auto; }

        #order-summary h3 { color: #d35400; margin-bottom: 10px; text-align: center; }
        #order-summary ul { display: block; }
        #order-summary li { padding: 5px 0; font-weight: bold; }

        #finish-order { display: block; margin: 20px auto; background: #27ae60; }
        #finish-order:hover { background: #2ecc71; }
    </style>

    <script>
        let total = 0;
        let commande = [];

        function addToOrder(item, price) {
            commande.push({item: item, price: price});
            total += price;

            // Mettre √† jour l'affichage
            const summary = document.getElementById("order-summary");
            let html = "<h3>üßæ Votre commande :</h3><ul>";
            commande.forEach(i => { html += `<li>${i.item}: ${i.price} DT</li>`; });
            html += `</ul><p style='text-align:center; font-weight:bold;'>üí∞ Total √† payer : ${total} DT</p>`;
            summary.innerHTML = html;
        }

        function submitOrder() {
            if (commande.length === 0) {
                alert("Vous n'avez rien ajout√© au menu !");
                return;
            }
            alert(`Commande envoy√©e !\nTotal: ${total} DT\nMerci üòä`);
            total = 0;
            commande = [];
            document.getElementById("order-summary").innerHTML = "";
        }
    </script>
</head>
<body>
    <h1>üç¥ Bienvenue au restaurant Pythonissimo ! üç¥</h1>
    <h2>Voici notre menu du jour :</h2>
    <ul>
        {% for item, price in menu.items() %}
        <li>
            <div style="font-size:1.2em; font-weight:bold;">{{ item }}</div>
            <div style="margin:5px 0; font-size:1em; color:#e67e22;">{{ price }} DT</div>
            <button onclick="addToOrder('{{ item }}', {{ price }})">Ajouter</button>
        </li>
        {% endfor %}
    </ul>

    <div id="order-summary"></div>
    <button id="finish-order" onclick="submitOrder()">Fin de la commande</button>
</body>
</html>
